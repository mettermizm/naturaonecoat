import { pushScopeId, popScopeId, defineComponent, useCssVars, unref, toRefs, ref, openBlock, createElementBlock, createVNode, withCtx, normalizeClass, createElementVNode, toDisplayString } from "@histoire/vendors/vue";
import { useCurrentVariantRoute } from "../../util/variant.js";
import BaseListItemLink from "../base/BaseListItemLink.js";
import { Icon } from "@histoire/vendors/iconify";
import { useScrollOnActive } from "../../util/scroll.js";
import "./StoryVariantListItem.vue_vue_type_style_index_0_scoped_true_lang.js";
import _export_sfc from "../../_virtual/plugin-vue_export-helper.js";
const _withScopeId = (n) => (pushScopeId("data-v-7f8cccbc"), n = n(), popScopeId(), n);
const _hoisted_1 = { class: "htw-truncate" };
const _sfc_main = /* @__PURE__ */ defineComponent({
  __name: "StoryVariantListItem",
  props: {
    variant: {
      type: Object,
      required: true
    }
  },
  setup(__props) {
    const props = __props;
    useCssVars((_ctx) => ({
      "cebc8760": unref(variant).iconColor
    }));
    const { variant } = toRefs(props);
    const { isActive, targetRoute } = useCurrentVariantRoute(variant);
    const el = ref();
    useScrollOnActive(isActive, el);
    return (_ctx, _cache) => {
      return openBlock(), createElementBlock("div", {
        ref_key: "el",
        ref: el,
        "data-test-id": "story-variant-list-item"
      }, [
        createVNode(BaseListItemLink, {
          to: unref(targetRoute),
          "is-active": unref(isActive),
          class: "htw-px-2 htw-py-2 md:htw-py-1.5 htw-m-1 htw-rounded-sm htw-flex htw-items-center htw-gap-2"
        }, {
          default: withCtx(({ active }) => {
            var _a;
            return [
              createVNode(unref(Icon), {
                icon: (_a = unref(variant).icon) != null ? _a : "carbon:cube",
                class: normalizeClass(["base-list-item-link-icon htw-w-5 htw-h-5 sm:htw-w-4 sm:htw-h-4 htw-flex-none", {
                  "htw-text-gray-500": !active && !unref(variant).iconColor,
                  "bind-icon-color": !active && unref(variant).iconColor
                }])
              }, null, 8, ["icon", "class"]),
              createElementVNode("span", _hoisted_1, toDisplayString(unref(variant).title), 1)
            ];
          }),
          _: 1
        }, 8, ["to", "is-active"])
      ], 512);
    };
  }
});
var StoryVariantListItem = /* @__PURE__ */ _export_sfc(_sfc_main, [["__scopeId", "data-v-7f8cccbc"]]);
export { StoryVariantListItem as default };
