import chokidar from 'chokidar';
import type { ServerStoryFile } from '@histoire/shared';
import { Context } from './context.js';
declare type StoryChangeHandler = (file?: ServerStoryFile) => unknown;
export declare function onStoryChange(handler: StoryChangeHandler): void;
export declare function watchStories(newContext: Context): Promise<chokidar.FSWatcher>;
export declare function notifyStoryChange(file?: ServerStoryFile): void;
export declare function addStory(relativeFilePath: string, virtualModuleCode?: string): ServerStoryFile;
export declare function removeStory(relativeFilePath: string): void;
export declare function findAllStories(newContext: Context): Promise<void>;
export {};
